{"version":3,"file":"index.js","sources":["../../../source/Plugin/Unload/Unload.js"],"sourcesContent":["import videojs from 'video.js';\n\nlet unloaded = false;\n\nfunction middleware(player) {\n  return {\n    callPlay() {\n      return unloaded && videojs.middleware.TERMINATOR;\n    }\n  };\n}\n\nfunction reset() {\n  unloaded = false;\n  this.tech_.show();\n}\n\nfunction unload(options = {}) {\n  unloaded = true;\n\n  this.pause();\n  this.tech_.hide();\n  this.off('loadstart', reset);\n  this.on('loadstart', reset);\n\n  if (options.loading) {\n    this.addClass('vjs-seeking');\n  }\n}\n\nvideojs.use('*', middleware);\nvideojs.registerPlugin('unload', unload);\n"],"names":["unloaded","middleware","player","callPlay","videojs","TERMINATOR","reset","tech_","show","unload","options","pause","hide","off","on","loading","addClass","use","registerPlugin"],"mappings":";;;;;;;;;;;;EAEA,IAAIA,QAAQ,GAAG,KAAf;;EAEA,SAASC,UAAT,CAAoBC,MAApB,EAA4B;EAC1B,SAAO;EACLC,IAAAA,QADK,sBACM;EACT,aAAOH,QAAQ,IAAII,2BAAO,CAACH,UAAR,CAAmBI,UAAtC;EACD;EAHI,GAAP;EAKD;;EAED,SAASC,KAAT,GAAiB;EACfN,EAAAA,QAAQ,GAAG,KAAX;EACA,OAAKO,KAAL,CAAWC,IAAX;EACD;;EAED,SAASC,MAAT,CAAgBC,OAAhB,EAA8B;EAAA,MAAdA,OAAc;EAAdA,IAAAA,OAAc,GAAJ,EAAI;EAAA;;EAC5BV,EAAAA,QAAQ,GAAG,IAAX;EAEA,OAAKW,KAAL;EACA,OAAKJ,KAAL,CAAWK,IAAX;EACA,OAAKC,GAAL,CAAS,WAAT,EAAsBP,KAAtB;EACA,OAAKQ,EAAL,CAAQ,WAAR,EAAqBR,KAArB;;EAEA,MAAII,OAAO,CAACK,OAAZ,EAAqB;EACnB,SAAKC,QAAL,CAAc,aAAd;EACD;EACF;;AAEDZ,6BAAO,CAACa,GAAR,CAAY,GAAZ,EAAiBhB,UAAjB;AACAG,6BAAO,CAACc,cAAR,CAAuB,QAAvB,EAAiCT,MAAjC;;;;;;"}