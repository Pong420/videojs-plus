{"version":3,"file":"unload.es.js","sources":["../../../source/Plugin/Unload/Unload.js"],"sourcesContent":["import videojs from 'video.js';\n\nlet unloaded = false;\n\nfunction middleware(player) {\n  return {\n    callPlay() {\n      return unloaded && videojs.middleware.TERMINATOR;\n    }\n  };\n}\n\nfunction reset() {\n  unloaded = false;\n  this.tech_.show();\n}\n\nfunction unload(options = {}) {\n  unloaded = true;\n\n  this.pause();\n  this.tech_.hide();\n  this.off('loadstart', reset);\n  this.on('loadstart', reset);\n\n  if (options.loading) {\n    this.addClass('vjs-seeking');\n  }\n}\n\nvideojs.use('*', middleware);\nvideojs.registerPlugin('unload', unload);\n"],"names":["unloaded","middleware","player","callPlay","videojs","TERMINATOR","reset","tech_","show","unload","options","pause","hide","off","on","loading","addClass","use","registerPlugin"],"mappings":";;;;AAEA,IAAIA,QAAQ,GAAG,KAAf;;AAEA,SAASC,UAAT,CAAoBC,MAApB,EAA4B;AAC1B,SAAO;AACLC,IAAAA,QADK,sBACM;AACT,aAAOH,QAAQ,IAAII,OAAO,CAACH,UAAR,CAAmBI,UAAtC;AACD;AAHI,GAAP;AAKD;;AAED,SAASC,KAAT,GAAiB;AACfN,EAAAA,QAAQ,GAAG,KAAX;AACA,OAAKO,KAAL,CAAWC,IAAX;AACD;;AAED,SAASC,MAAT,CAAgBC,OAAhB,EAA8B;AAAA,MAAdA,OAAc;AAAdA,IAAAA,OAAc,GAAJ,EAAI;AAAA;;AAC5BV,EAAAA,QAAQ,GAAG,IAAX;AAEA,OAAKW,KAAL;AACA,OAAKJ,KAAL,CAAWK,IAAX;AACA,OAAKC,GAAL,CAAS,WAAT,EAAsBP,KAAtB;AACA,OAAKQ,EAAL,CAAQ,WAAR,EAAqBR,KAArB;;AAEA,MAAII,OAAO,CAACK,OAAZ,EAAqB;AACnB,SAAKC,QAAL,CAAc,aAAd;AACD;AACF;;AAEDZ,OAAO,CAACa,GAAR,CAAY,GAAZ,EAAiBhB,UAAjB;AACAG,OAAO,CAACc,cAAR,CAAuB,QAAvB,EAAiCT,MAAjC"}