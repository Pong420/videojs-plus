(function (video_js) {
  'use strict';

  function _inheritsLoose(subClass, superClass) {
    subClass.prototype = Object.create(superClass.prototype);
    subClass.prototype.constructor = subClass;
    subClass.__proto__ = superClass;
  }

  var FullWindowToggle =
  /*#__PURE__*/
  function (_getComponent) {
    _inheritsLoose(FullWindowToggle, _getComponent);

    function FullWindowToggle(player, options) {
      var _this;

      _this = _getComponent.call(this, player, options) || this;
      player.requestFullscreen = player.enterFullWindow.bind(player);
      player.enterFullScreen = player.enterFullWindow.bind(player);
      player.exitFullscreen = player.exitFullWindow.bind(player);

      player.isFullscreen = function () {
        return !!player.isFullWindow;
      };

      player.on('enterFullWindow', function () {
        player.trigger('fullscreenchange');
      });
      player.on('exitFullWindow', function () {
        player.trigger('fullscreenchange');
      });
      return _this;
    }

    var _proto = FullWindowToggle.prototype;

    _proto.handleClick = function handleClick() {
      if (!this.player_.isFullWindow) {
        this.player_.enterFullScreen();
      } else {
        this.player_.exitFullscreen();
      }
    };

    return FullWindowToggle;
  }(video_js.getComponent('FullscreenToggle'));

  video_js.registerComponent('FullWindowToggle', FullWindowToggle);
  var controlBarChildren = video_js.getComponent('ControlBar').prototype.options_.children;
  var fullScreenButtonIndex = controlBarChildren.indexOf('FullscreenToggle');
  controlBarChildren[fullScreenButtonIndex] = 'FullWindowToggle';

}(videojs));
