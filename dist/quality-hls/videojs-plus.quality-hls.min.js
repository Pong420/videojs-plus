!function(t){"use strict";function e(){return e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var l=arguments[e];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i])}return t},e.apply(this,arguments)}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i="default"in t?t.default:t,n=t.getComponent("SettingOptionItem"),o=function(t){function n(l,i){var n;return n=t.call(this,l,e({},i,{name:"QualityHlsSettingItem",label:"Quality",icon:"vjs-icon-hd"}))||this,n.addClass("vjs-setting-quality"),n.levels=[],n.handleAllLevelsAdded(),n}l(n,t);var o=n.prototype;return o.handleAllLevelsAdded=function(){var t=this,e=this.player_;if(!e.qualityLevels)return i.log.warn("plugin videojs-contrib-quality-levels do not exsits"),!1;var l,n=e.qualityLevels(),o=[];n.on("addqualitylevel",function(i){var n=i.qualityLevel;clearTimeout(l),o.push(n);var r=function(){t.levels=o.slice(0),e.trigger("before-quality-setup",{levels:t.levels}),t.onAllLevelsAdded(),o=[]};l=setTimeout(r,10)})},o.onAllLevelsAdded=function(){var t=this,e=this.levels.map(function(e){var l=e.height;return{label:t.localize(l+"p"),value:l,defalut:!1}}).sort(function(t,e){return e.value-t.value}).concat({label:"Auto",value:"auto",defalut:!0});this.setEntries(e),this.show(),this.player_.trigger("qualities",this.levels)},o.update=function(l){var i=this;t.prototype.update.call(this,l);var n=l.value;this.levels.forEach(function(t){t.enabled=t.height===n||"auto"===n}),this.player_.trigger("qualitychange",this.entries.reduce(function(t,l,o){if(l.value===n){t=e({index:o},l,i.levels.find(function(t){return t.height===n})||{})}return t},{}))},n}(n);t.getComponent("SettingMenuButton").prototype.options_.entries.push("QualityHlsSettingItem"),t.registerComponent("QualityHlsSettingItem",o)}(videojs);
