!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):t(e.videojs)}(this,function(e){"use strict";function t(e,n,i){var o=[];if(e&&e.childIndex_&&Object.keys(e.childIndex_).length)for(var r in e.childIndex_){var s=e.childIndex_[r];if(s&&s.name_==n){var a;i.push((a={parent:e,component:s,index:e.children_.indexOf(s)},a[n]=s,a))}o.push(t(s,n,i))}return{name:n,parent:e,children:o}}function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){var t;return e=e.map(function(e,i){var o=void 0!==e.defalut&&e.defalut,r=n({},e,{label:void 0!==e.label?e.label:e,value:void 0!==e.value?e.value:e,defalut:o,index:i});return o&&(t=r),r}),t||(t=e[0]),{entries:e,currentValue:t}}e.getComponent("Component").prototype.findChild=function(e){var n=[];return t(this,e,n),n};var s=e.browser.IS_IPHONE,a=e.browser.IOS_VERSION,l=e.browser.TOUCH_ENABLED;e.hook("setup",function(e){e.playsinline(!1!==e.options_.playsinline),e.addClass("video-js"),s&&(e.addClass("vjs-is-iphone"),a<11&&e.addClass("vjs-iphone-below-11")),l&&e.removeClass("vjs-workinghover")});var u=e.getComponent("Component"),c=e.getComponent("ControlBar"),p=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.addClass("vjs-control-separator"),i.addClass(n.className||""),i}return i(t,e),t}(u);e.registerComponent("ControlSeparator",p),e.hook("beforesetup",function(e,t){var n=c.prototype.options_.children.slice(0),i=n.indexOf("CustomControlSpacer");return i>-1&&(c.prototype.options_.children=[{name:"ControlSeparator",className:"top",children:[]},{name:"ControlSeparator",className:"middle",children:n.splice(0,i+1)},{name:"ControlSeparator",className:"bottom",children:n}]),t}),e.hook("setup",function(e){var t=!1!==e.options_.mobileView;(function(e){return window.matchMedia?window.matchMedia("(max-width: "+e+"px)").matches:window.innerWidth<=e})(480)&&t&&(e.controlBar.hide(),e.one("playing",function(){var t=["mouseover","userinactive","touchstart"];e.one(t,function n(){e.off(t,n),e.controlBar.show()}),e.one("touchend",function(){e.userActive(!0)})}),e.addClass("vjs-mobile-view"))});var h=e.getComponent("SeekBar");h.prototype.getPercent=function(){var e=this.player_.currentTime(),t=e/this.player_.duration();return t>=1?1:t},h.prototype.handleMouseMove=function(t){var n=this.player_;if(e.dom.isSingleLeftClick(t)){var i=this.calculateDistance(t)*n.duration();i===n.duration()&&(i-=.1),n.currentTime(i),this.update()}},e.getComponent("ControlBar").prototype.options_.children=["PlayToggle","CustomControlSpacer","VolumePanel","CurrentTimeDisplay","TimeDivider","DurationDisplay","ProgressControl","CustomControlSpacer","SettingMenuButton","FullscreenToggle"],e.hook("setup",function(e){e.on("mouseleave",function(){e.userActive(!1)}),e.ready(function(){e.controls(!1!==e.options_.controls)})});var d=function(t){function n(e,n){var i;return i=t.call(this,e,n)||this,i.title_=n.playerOptions.title||"",i.update(i.title_),i}i(n,t);var o=n.prototype;return o.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-title"});return this.contentEl_=e.dom.createEl("div",{className:"vjs-title-field"}),n.appendChild(this.contentEl_),n},o.update=function(e){e?this.show():this.hide(),this.player_.cache_.title=this.title_,this.title_=e,this.contentEl_.innerHTML=e},n}(e.getComponent("Component")),v=function(e){var t=this.player_.getChild("VideoTitle");if(void 0===e)return t.title_;t.update(e)};e.registerPlugin("title",v),e.registerComponent("VideoTitle",d),e.getComponent("Player").prototype.options_.children.splice(2,0,"VideoTitle");var m=e.getComponent("PlayToggle"),f=e.getComponent("ClickableComponent"),C=function(t){function n(e,n){return t.call(this,e,n)||this}i(n,t);var o=n.prototype;return o.createEl=function(){return e.dom.createEl("div",{className:"vjs-play-toggle-layer"})},o.handleClick=function(e){(this.player_.userActive()||this.player_.paused())&&m.prototype.handleClick.call(this,e)},n}(f);e.registerComponent("PlayToggleLayer",C);var g=e.getComponent("Player").prototype.options_.children,y=g.indexOf("loadingSpinner");g.splice(y,0,"PlayToggleLayer");var b=e.getComponent("MenuItem"),_=function(e){function t(t,i){var o;return o=e.call(this,t,n({},i,{selectable:!0}))||this,o.addClass("vjs-context-menu-item"),o.controlText(i.label),o}i(t,e);var o=t.prototype;return o.createEl=function(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=(t=e.prototype.createEl).call.apply(t,[this].concat(i));return r.insertAdjacentHTML("afterbegin",'<span aria-hidden="true" class="vjs-icon-placeholder '+(this.options_.icon||"")+'"></span>'),r},o.handleClick=function(){this.player_.findChild("ContextMenu")[0].component.hide()},t}(b);e.registerComponent("ContextMenuItem",_);var j=function(e){function t(t){var n;return n=e.call(this,t,{name:"ContextMenuToggleLoop",label:"Loop",icon:"vjs-icon-loop"})||this,n.addClass("vjs-checkbox"),t.on("loadstart",n.update.bind(o(o(n)))),n}i(t,e);var n=t.prototype;return n.update=function(){this.selected(this.player_.loop())},n.handleClick=function(){e.prototype.handleClick.call(this),this.player_.loop(!this.player_.loop()),this.update()},t}(_);e.registerComponent("ContextMenuToggleLoop",j);var w=function(e){function t(t){return e.call(this,t,{name:"AboutThisPlayer",label:"About This Player",icon:"vjs-icon-github"})||this}return i(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),window.open("https://github.com/Pong420/videojs-plus","_blank")},t}(_);e.registerComponent("AboutThisPlayer",w);var M=e.getComponent("ClickableComponent"),S=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-menu-layer vjs-close-context-menu"},n.handleClick=function(){this.options_.menu.hide()},t}(M);e.registerComponent("CloseContextMenu",S);var E=e.getComponent("Menu"),k=function(e){function t(t,n){var i;i=e.call(this,t,n)||this,i.addClass("vjs-context-menu"),i.hide(),i.player_.on("contextmenu",i.onContextmenu.bind(o(o(i))));var r=i.handleClick.bind(o(o(i)));return window.addEventListener("click",r),i.on("dispose",function(){window.removeEventListener("click",r)}),i}i(t,e);var n=t.prototype;return n.createEl=function(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=(t=e.prototype.createEl).call.apply(t,[this].concat(i)),s=new S(this.player_,{menu:this});return r.insertBefore(s.el_,r.firstElementChild),r},n.show=function(t,n){e.prototype.show.call(this),this.el_.style.top=n+"px",this.el_.style.left=t+"px"},n.onContextmenu=function(e){e.preventDefault();var t=this.player_.el().getBoundingClientRect(),n=e.pageX-t.x,i=e.pageY-t.y;this.show(n,i)},n.handleClick=function(e){(e.button||0===e.button)&&2!==e.button&&this.hide()},t}(E);k.prototype.options_={children:["ContextMenuToggleLoop","AboutThisPlayer"]},e.registerComponent("ContextMenu",k),e.getComponent("Player").prototype.options_.children.push("ContextMenu");var x=e.getComponent("ClickableComponent"),T=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-menu-layer vjs-close-setting-menu"},n.handleClick=function(){this.options_.menu.menuButton_.hideMenu()},t}(x);e.registerComponent("CloseSettingMenu",T);var I=e.getComponent("Menu"),O=function(e){function t(t,i){var r;return r=e.call(this,t,n({},i,{name:"SettingMenu"}))||this,r.addClass("vjs-setting-menu"),setTimeout(r.reset.bind(o(o(r))),0),r}i(t,e);var r=t.prototype;return r.reset=function(){if(this.contentEl_){this.removeStyle();var e=this.contentEl_,t=e.offsetWidth,n=e.offsetHeight;this.origin={children:this.children().slice(0),width:t,height:n},this.resize({width:t,height:n}),this.addClass("vjs-setting-menu-ready")}},r.createEl=function(){var t=e.prototype.createEl.call(this),n=new T(this.player_,{menu:this});return t.insertBefore(n.el_,t.firstElementChild),t},r.update=function(e){var t=this;void 0===e&&(e=[]),this.children().slice(0).forEach(function(e){t.removeChild(e)}),e.forEach(function(e){t.addChild(e)})},r.resize=function(e){var t=e.width,n=e.height;this.contentEl_.style.width=t+"px",this.contentEl_.style.height=n+"px"},r.restore=function(){this.resize(this.origin),this.update(this.origin.children)},r.removeStyle=function(){this.contentEl_.removeAttribute("style")},t}(I);e.registerComponent("SettingMenu",O);var P=e.getComponent("MenuItem"),B=function(t){function n(n,i){var o;return o=t.call(this,n,e.mergeOptions({selectable:!1},i))||this,o.menu=i.menu,o}return i(n,t),n}(P);e.registerComponent("SettingMenuItem",B);var L=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.addChild("Component",{},0),i.addClass("vjs-settings-sub-menu-item"),i.addClass("vjs-settings-sub-menu-title"),i}return i(t,e),t.prototype.handleClick=function(){this.options_.menu.restore()},t}(B);e.registerComponent("SettingSubMenuTitle",L);var V=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,i.selectable=!0,Object.assign(o(o(i)),n),i.addChild("Component",{},0),i.addClass("vjs-settings-sub-menu-item"),i.addClass("vjs-settings-sub-menu-option"),i.update(),i}i(t,e);var n=t.prototype;return n.update=function(){this.selected(this.value===this.parent.currentValue.value)},n.handleClick=function(){this.parent.update(this)},t}(B);e.registerComponent("SettingSubMenuItem",V);var N=e.getComponent("SettingMenu"),A=function(e){function t(t){return e.call(this,t,{name:"SettingMenuTemp"})||this}return i(t,e),t}(N),z=function(e,t){var n=new A(e);n.update(t),e.addChild(n);var i=n.contentEl_.getBoundingClientRect();return n.update(),n.dispose(),e.removeChild(n),i},H=function(t){function n(e,n){var i;return void 0===n&&(n={}),i=t.call(this,e,Object.assign(n,r(n.entries)))||this,i.setEntries(i.options_.entries),i.entries.length||i.hide(),i}i(n,t);var o=n.prototype;return o.createEl=function(){var t=this.options_,n=t.icon,i=t.label,o=t.currentValue,r=e.dom.createEl("li",{className:"vjs-menu-item vjs-setting-menu-item",innerHTML:'\n        <div class="vjs-icon-placeholder '+(n||"")+'"></div>\n        <div class="vjs-setting-menu-label">'+this.localize(i)+'</div>\n        <div class="vjs-spacer"></div>\n      '});return this.currentValueEl=e.dom.createEl("div",{className:"vjs-setting-menu-value",innerHTML:this.localize(o?o.label:"")}),r.appendChild(this.currentValueEl),r},o.setEntries=function(e){var t=this,n=r(e),i=n.entries,o=n.currentValue;this.entries=i,this.currentValue=o,o&&(this.currentValueEl.innerHTML=this.localize(o.label)),this.subMenuItems=this.entries.map(function(e){var n=e.label,i=e.value;return new V(t.player_,{label:n,value:i,parent:t,menu:t.menu})}),this.subMenuItems.splice(0,0,new L(this.player_,{label:this.options_.label,menu:this.menu}))},o.handleClick=function(){var e=z(this.player_,this.subMenuItems);this.menu.update(this.subMenuItems),this.menu.resize(e)},o.update=function(e){var t=e.label,n=e.value;this.currentValue={label:t,value:n},this.currentValueEl.innerHTML=this.localize(t),this.subMenuItems.forEach(function(e){e.update&&e.update()}),this.menu.restore()},o.show=function(){t.prototype.show.call(this),this.menu.reset()},n}(B);e.registerComponent("SettingOptionalItem",H);var R=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var o=n.prototype;return o.createEl=function(){var t=this.options_;return e.dom.createEl("li",{className:"vjs-menu-item vjs-setting-onoff-item",innerHTML:'\n        <div class="vjs-icon-placeholder '+(this.options_.icon||"")+'"></div>\n        <div>'+this.localize(t.label)+'</div>\n        <div class="vjs-spacer"></div>\n        <div>\n          <div class="vjs-onoff-button"></div>\n        </div>\n      '})},o.update=function(e){this.active=void 0===e?!this.active:e,this.active?this.addClass("vjs-active"):this.removeClass("vjs-active")},o.handleClick=function(){this.update()},o.selected=function(){},n}(B);e.registerComponent("SettingOnOffItem",R);var D=function(e){function t(t,n){var i;return i=e.call(this,t,Object.assign(n,{label:"Speed",icon:"vjs-icon-slow-motion-video",entries:[.5,.75,{label:"Normal",value:1,defalut:!0},1.25,1.5,2]}))||this,i.addClass("vjs-setting-playback-rate"),t.on("ratechange",function(){var e=t.playbackRate(),n=i.entries.find(function(t){var n=t.value;return e===n});i.update(n)}),i}return i(t,e),t.prototype.update=function(t){e.prototype.update.call(this,t),this.player_.playbackRate()!==t.value&&this.player_.playbackRate(t.value)},t}(H);e.registerComponent("PlaybackRateSettingOptionalItem",D);var W=e.getComponent("MenuButton"),q=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,t.addChild(i.menu),i.removeChild(i.menu),t.on("playerresize",function(){i.menu.reset()}),i}i(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-setting-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-setting-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new O(this.player_,{menuButton:this});return(this.options_.entries||[]).forEach(function(t){e.addChild(t,{menu:e})}),e},n.hideMenu=function(){this.unpressButton(),this.el_.blur()},n.unpressButton=function(){e.prototype.unpressButton.call(this),this.player_.removeClass("vjs-keep-control-showing"),this.menu.restore()},n.handleClick=function(){var e=this;this.player_.addClass("vjs-keep-control-showing"),this.buttonPressed_?this.unpressButton():this.pressButton(),this.off(document.body,"click",this.hideMenu),this.off(document.body,"touchend",this.hideMenu),setTimeout(function(){e.one(document.body,"click",e.hideMenu)},0)},t}(W);q.prototype.controlText_="Settings",q.prototype.options_={entries:["PlaybackRateSettingOptionalItem"]},e.registerComponent("SettingMenuButton",q)});
